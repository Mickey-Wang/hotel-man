webpackJsonp([2],{101:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(169),o=i.n(s),a=i(82),n=i.n(a);e.default={data:function(){return{}},components:{hotel:o.a,"left-nav":n.a}}},124:function(t,e){},136:function(t,e){},169:function(t,e,i){i(124);var s=i(7)(i(98),i(171),"data-v-0cfe5bb4",null);s.options.__file="E:\\devCode\\hotel-man\\src\\views\\componets\\tables\\hotelExamine.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t}),s.options.functional,t.exports=s.exports},171:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"tableWrap"},[i("div",{staticClass:"topTable"},[i("div",{staticClass:"title"},[t._v("酒店审核列表")]),t._v(" "),i("div",{staticClass:"button"},[0!=t.hotelApprovalList.length?i("Button",{attrs:{type:"primary",disabled:t.isNot20Check&&10!=t.hotelTableType},on:{click:t.toSubmit1}},[t._v("提交")]):i("Button",{attrs:{type:"primary",disabled:""}},[t._v("提交")]),t._v(" "),10!=t.hotelTableType&&0!=t.hotelApprovalList.length?i("Button",{attrs:{type:"primary",disabled:t.is20Check},on:{click:t.toSubmit2}},[t._v("设为待审")]):t._e(),t._v(" "),0==t.hotelApprovalList.length?i("Button",{attrs:{type:"primary",disabled:""}},[t._v("设为待审")]):t._e(),t._v(" "),i("Button",{attrs:{type:"primary",disabled:""}},[t._v("新增")])],1),t._v(" "),i("div",{staticClass:"total"},[t._v("共计"+t._s(t.hotelTotalNum)+"条")]),t._v(" "),i("div",{staticClass:"table table1 table1Style"},[i("div",{staticClass:"wrap wrapW1"},[i("div",{ref:"w1"},[i("table",{style:{"min-width":t.divWidth1+"px"}},[i("tr",[i("th",{staticStyle:{"border-top":"none"}},[10!=t.hotelTableType?i("input",{directives:[{name:"model",rawName:"v-model",value:t.checkAll,expression:"checkAll"}],attrs:{type:"checkbox",disabled:t.isNot20Check},domProps:{checked:Array.isArray(t.checkAll)?t._i(t.checkAll,null)>-1:t.checkAll},on:{click:t.toggleCheckAll,__c:function(e){var i=t.checkAll,s=e.target,o=!!s.checked;if(Array.isArray(i)){var a=t._i(i,null);s.checked?a<0&&(t.checkAll=i.concat([null])):a>-1&&(t.checkAll=i.slice(0,a).concat(i.slice(a+1)))}else t.checkAll=o}}}):t._e()]),t._v(" "),t._l(t.cityHeaderData,function(e,s){return i("th",{key:s,staticStyle:{"border-top":"none"}},[t._v(t._s(e.title))])})],2),t._v(" "),t.hotelCheckList&&10!=t.hotelTableType&&t.JDHotelApproval&&0!=t.hotelApprovalList.length?i("tr",{staticClass:"fontColor"},[i("td"),t._v(" "),i("td",{on:{click:function(e){t.getInputValue(t.JDHotelApproval)}}},[t._v(t._s(t.JDHotelApproval.hotelName))]),t._v(" "),i("td",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.getAddressValue(t.JDHotelApproval)}}},[t._v(t._s(t.JDHotelApproval.address))]),t._v(" "),i("td",[t._v(t._s(t.JDHotelApproval.tel))]),t._v(" "),i("td",[t._v(t._s(t.JDHotelApproval.distance))]),t._v(" "),i("td",[null!=t.JDHotelApproval.hotelUrl?i("a",{attrs:{href:t.JDHotelApproval.hotelUrl}},[t._v("酒店链接")]):t._e()]),t._v(" "),i("td",[t._v(t._s(t.JDHotelApproval.cityName))]),t._v(" "),i("td",[t._v("京东")]),t._v(" "),i("td",[t._v(t._s(t.JDHotelApproval.hotelId))]),t._v(" "),i("td"),t._v(" "),i("td"),t._v(" "),i("td"),t._v(" "),i("td")]):t._e()])]),t._v(" "),i("div",{ref:"topDivH",style:{height:10==t.hotelTableType?"86%":"68%"}},[t.hotelCheckList&&t.hotelApprovalList&&t.hotelApprovalList.length>0?i("table",{style:{"min-width":t.divWidth1+"px"}},t._l(t.hotelApprovalList,function(e,s){return i("tr",{key:s,class:[{trClass:20==e.mapStatus}]},[i("td",[""!=e.mapStatus?i("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"item.checked"}],attrs:{type:"checkbox",disabled:20==e.mapStatus?t.isNot20Check:t.is20Check},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{click:t.clearRadioValue,__c:function(i){var s=e.checked,o=i.target,a=!!o.checked;if(Array.isArray(s)){var n=t._i(s,null);o.checked?n<0&&(e.checked=s.concat([null])):n>-1&&(e.checked=s.slice(0,n).concat(s.slice(n+1)))}else e.checked=a}}}):t._e()]),t._v(" "),i("td",{on:{click:function(i){t.getInputValue(e)}}},[t._v(t._s(e.hotelName))]),t._v(" "),i("td",{staticStyle:{cursor:"pointer"},on:{click:function(i){t.getAddressValue(e)}}},[t._v(t._s(e.address))]),t._v(" "),i("td",[t._v(t._s(e.tel))]),t._v(" "),e.distance?i("td",[t._v(t._s(e.distance)+"m")]):t._e(),t._v(" "),i("td",[null!=e.hotelUrl?i("a",{attrs:{href:e.hotelUrl,target:"_blank"}},[t._v("酒店链接")]):t._e()]),t._v(" "),i("td",[t._v(t._s(e.cityName))]),t._v(" "),i("td",[t._v(t._s(e.supplierName))]),t._v(" "),i("td",[t._v(t._s(e.hotelId))]),t._v(" "),i("td",[t._v(t._s(t.getStatusValue(e.mapStatus)))]),t._v(" "),i("td",[t._v(t._s(e.lastOperator))]),t._v(" "),i("td",[t._v(t._s(e.lastModifyTime))]),t._v(" "),i("td",{on:{click:function(i){t.getCheckData(e.hotelMapId)}}},[t._v("查看")])])})):t._e(),t._v(" "),t.hotelCheckList&&0!=t.hotelApprovalList.length?t._e():i("div",{staticClass:"noData"},[t._v("\n                        暂无数据\n                    ")])])]),t._v(" "),t.hotelSyncMappingDataState?i("Spin",{attrs:{fix:""}},[i("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"load-c",size:"18"}}),t._v(" "),i("div",[t._v("Loading")])],1):t._e(),t._v(" "),t.hotelLoading?i("Spin",{attrs:{fix:""}},[i("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"load-c",size:"18"}}),t._v(" "),i("div",[t._v("Loading")])],1):t._e()],1)]),t._v(" "),i("div",{staticClass:"bottomTable"},[i("div",{staticClass:"title"},[t._v("相似酒店列表")]),t._v(" "),i("div",{staticClass:"button"},[i("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"JD数据模糊比配"},model:{value:t.hotelValue,callback:function(e){t.hotelValue=e},expression:"hotelValue"}}),t._v(" "),i("Button",{attrs:{type:"primary"},on:{click:t.getSimilar}},[t._v("Go")])],1),t._v(" "),i("div",{staticClass:"total"},[t._v("共计"+t._s(t.similarTotalNum)+"条")]),t._v(" "),i("div",{staticClass:"table table2"},[i("div",{staticClass:"wrap wrapW2"},[i("div",{ref:"w2"},[i("table",{style:{"min-width":t.divWidth2+"px"}},[i("tr",[i("th"),t._v(" "),t._l(t.similarHeaderData,function(e,s){return i("th",{key:s},[t._v(t._s(e.title))])})],2)])]),t._v(" "),i("div",{ref:"divH",staticStyle:{height:"80%"}},[t.similarCityData.length>0?i("table",{ref:"tableH",style:{"min-width":t.divWidth2+"px"}},t._l(t.similarCityData,function(e,s){return i("tr",{key:s},[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.similar,expression:"similar"}],attrs:{type:"radio"},domProps:{value:s,checked:t._q(t.similar,s)},on:{change:function(i){t.radioSelect(e)},__c:function(e){t.similar=s}}})]),t._v(" "),i("td",[t._v(t._s(e.hotelId))]),t._v(" "),i("td",{domProps:{innerHTML:t._s(t.highlight(e.hotelName,t.hotelValue))}}),t._v(" "),i("td",{domProps:{innerHTML:t._s(t.highlight(e.address,t.hotelValue))}}),t._v(" "),i("td",[t._v(t._s(e.tel))]),t._v(" "),i("td",[null!=e.hotelUrl?i("a",{attrs:{href:e.hotelUrl,target:"_blank"}},[t._v("酒店链接")]):t._e()]),t._v(" "),i("td",[t._v(t._s(e.cityName))]),t._v(" "),i("td",{on:{click:function(i){t.getTreeData(e.hotelId)}}},[t._v("Tree信息")])])})):t._e(),t._v(" "),0==t.similarCityData?i("div",{staticClass:"noData"},[t._v("\n                        暂无数据\n                    ")]):t._e()])]),t._v(" "),t.spinShow?i("Spin",{attrs:{fix:""}},[i("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"load-c",size:"18"}}),t._v(" "),i("div",[t._v("Loading")])],1):t._e()],1)]),t._v(" "),i("Modal",{attrs:{title:"查看日志",width:"800"},model:{value:t.checkShow,callback:function(e){t.checkShow=e},expression:"checkShow"}},[i("div",{staticClass:"table table1",staticStyle:{height:"300px","margin-top":"10px"}},[i("div",{staticClass:"wrap wrapW1 logTable",staticStyle:{"min-width":"100%"}},[i("div",{ref:"w3"},[i("table",{staticStyle:{width:"767px"}},[i("tr",t._l(t.checkTitle,function(e,s){return i("th",{key:s},[t._v(t._s(e.title))])}))])]),t._v(" "),i("div",{staticStyle:{"overflow-x":"hidden"}},[t.checkData.length>0?i("table",{staticStyle:{width:"767px"}},t._l(t.checkData,function(e,s){return i("tr",{key:s},[i("td",[t._v(t._s(e.oldString))]),t._v(" "),i("td",[t._v(t._s(e.newString))]),t._v(" "),i("td",[t._v(t._s(e.operateTime))]),t._v(" "),i("td",[t._v(t._s(e.operatorName))])])})):t._e(),t._v(" "),0==t.checkData.length?i("div",{staticClass:"noData"},[t._v("\n                        暂无数据\n                    ")]):t._e()])]),t._v(" "),t.spinShow?i("Spin",{attrs:{fix:""}},[i("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"load-c",size:"18"}}),t._v(" "),i("div",[t._v("Loading")])],1):t._e()],1),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[t._e()],1)]),t._v(" "),i("Modal",{attrs:{title:"查看酒店Tree信息",width:"1300"},model:{value:t.treeShow,callback:function(e){t.treeShow=e},expression:"treeShow"}},[i("Button",{attrs:{type:"primary"},on:{click:t.treeSubmit}},[t._v("设为待审")]),t._v(" "),i("div",{staticClass:"table table1 treeTable",staticStyle:{height:"300px","margin-top":"10px"}},[i("div",{staticClass:"wrap wrapW1",staticStyle:{"min-width":"100%"}},[i("div",{ref:"w3"},[i("table",{staticStyle:{width:"1266px"}},[i("tr",[i("th"),t._v(" "),t._l(t.treeTitle,function(e,s){return i("th",{key:s},[t._v(t._s(e.title))])})],2),t._v(" "),t._l(t.treeJDHotelApproval,function(e,s){return t.treeJDHotelApproval?i("tr",{key:s,staticClass:"fontColor"},[i("td"),t._v(" "),i("td",{staticStyle:{width:"200px"}},[t._v(t._s(e.hotelName))]),t._v(" "),i("td",{staticStyle:{width:"200px"}},[t._v(t._s(e.address))]),t._v(" "),i("td",[t._v(t._s(e.tel))]),t._v(" "),i("td",[t._v(t._s(e.distance))]),t._v(" "),i("td",[null!=e.hotelUrl?i("a",{attrs:{href:e.hotelUrl,target:"_blank"}},[t._v("酒店链接")]):t._e()]),t._v(" "),i("td",[t._v(t._s(e.cityName))]),t._v(" "),i("td",[t._v("京东")]),t._v(" "),i("td",[t._v(t._s(e.hotelId))]),t._v(" "),i("td"),t._v(" "),i("td")]):t._e()})],2)]),t._v(" "),i("div",{staticStyle:{"overflow-x":"hidden",height:"70%"}},[t.treeData.length>0?i("table",{staticStyle:{width:"1266px"}},t._l(t.treeData,function(e,s){return i("tr",{key:s,class:[{trClass:20==e.mapStatus}]},[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"item.checked"}],attrs:{type:"checkbox",disabled:30!=e.mapStatus},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{__c:function(i){var s=e.checked,o=i.target,a=!!o.checked;if(Array.isArray(s)){var n=t._i(s,null);o.checked?n<0&&(e.checked=s.concat([null])):n>-1&&(e.checked=s.slice(0,n).concat(s.slice(n+1)))}else e.checked=a}}})]),t._v(" "),i("td",{staticStyle:{width:"300px"}},[t._v(t._s(e.hotelName))]),t._v(" "),i("td",{staticStyle:{width:"300px"}},[t._v(t._s(e.address))]),t._v(" "),i("td",[t._v(t._s(e.tel))]),t._v(" "),e.distance?i("td",[t._v(t._s(e.distance)+"m")]):t._e(),t._v(" "),i("td",[null!=e.hotelUrl?i("a",{attrs:{href:e.hotelUrl,target:"_blank"}},[t._v("酒店链接")]):t._e()]),t._v(" "),i("td",[t._v(t._s(e.cityName))]),t._v(" "),i("td",[t._v(t._s(e.supplierName))]),t._v(" "),i("td",[t._v(t._s(e.hotelId))]),t._v(" "),i("td",[t._v(t._s(e.lastModifyTime))]),t._v(" "),i("td",[t._v(t._s(t.getStatusValue(e.mapStatus)))])])})):t._e(),t._v(" "),0==t.treeData.length&&0==t.treeJDHotelApproval.length?i("div",{staticClass:"noData"},[t._v("\n                        暂无数据\n                    ")]):t._e()])]),t._v(" "),t.spinShow?i("Spin",{attrs:{fix:""}},[i("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"load-c",size:"18"}}),t._v(" "),i("div",[t._v("Loading")])],1):t._e()],1),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[t._e()],1)],1),t._v(" "),i("Modal",{attrs:{width:"500",closable:!1},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.modelShow,callback:function(e){t.modelShow=e},expression:"modelShow"}},[i("p",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.message))])])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},184:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"layout-row"},[i("Row",{staticClass:"layout-row"},[i("Col",{staticClass:"layout-content-main-right",attrs:{span:"18",push:"6"}},[i("hotel")],1),t._v(" "),i("Col",{staticClass:"layout-content-main-left",attrs:{span:"6",pull:"18"}},[i("left-nav")],1)],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},56:function(t,e,i){i(136);var s=i(7)(i(101),i(184),"data-v-4c93e14e",null);s.options.__file="E:\\devCode\\hotel-man\\src\\views\\pages\\Mapping\\hotelMapping.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t}),s.options.functional,t.exports=s.exports},78:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{searchID:"hotelId",searchCondition:[{value:"hotelId",label:"酒店id"},{value:"hotelName",label:"酒店名称"}],searchInput:"",searchInputCache:"",searchSupplier:"",searchProvinceBySuppliers:"",searchProvinceByRegions:"",searchCityBySuppliers:"",searchCityByRegions:"",searchHotelBySuppliers:"",searchHotelByRegions:"",btnType:"supplier",getDataType:"",chooseTabBySuppliers:"",chooseTabByRegions:"",supplierTabDisable:[!1,!0,!0,!0,!0],regionTabDisable:[!1,!0,!0,!0],listShow:!1,checkStateBySuppliers:20,checkStateByRegions:20,isCheckStateByRegionsShow:!0,hotelCondition:[{value:20,label:"已聚待审"},{value:30,label:"已聚已审"},{value:10,label:"未聚待审"}],currentSupplierId:0,currentProvinceIdBySuppliers:0,currentProvinceIdByRegions:0,currentCityIdBySuppliers:0,currentCityIdByRegions:0,currentHotelIndexBySuppliers:0,currentHotelIndexByRegions:0,supplierList:[],nationListChooseBySuppliers:[],nationListChooseByRegions:[],provinceListChooseBySuppliers:[],provinceListChooseByRegions:[],cityListChooseBySuppliers:[],cityListChooseByRegions:[],hotelListChooseBySuppliers:[],hotelListChooseByRegions:[],provinceListChooseBySuppliersFilter:[],provinceListChooseByRegionsFilter:[],cityListChooseBySuppliersFilter:[],cityListChooseByRegionsFilter:[],hotelListChooseBySuppliersFilter:[],hotelListChooseByRegionsFilter:[],curPageSuppliers:1,curPageRegions:1,hotelTotalSuppliers:0,hotelTotalRegions:0,hotelPageSizeSuppliers:30,hotelPageSizeRegions:30}},watch:{hotelSyncMappingDataState:function(t,e){t&&this.refreshData()}},mounted:function(){var t=this;this.$http.post("/mapping/hotelMapping/navTabSearch",{sourceType:20,dimensionType:10}).then(function(e){t.supplierList=e.data.body.statisticList}),this.$http.post("/mapping/hotelMapping/navTabSearch",{sourceType:10,dimensionType:20}).then(function(e){t.nationListChooseByRegions=e.data.body.statisticList})},computed:{btnTypesupplier:function(){return"supplier"==this.btnType?"primary":"ghost"},btnTypeRegion:function(){return"region"==this.btnType?"primary":"ghost"},hotelSyncMappingDataState:function(){return this.$store.getters.hotelSyncMappingDataState}},methods:{reset:function(t){var e=this;"suppliers"==t?this.$http.post("/mapping/hotelMapping/navTabSearch",{sourceType:20,dimensionType:10}).then(function(t){e.supplierList=t.data.body.statisticList}):this.$http.post("/mapping/hotelMapping/navTabSearch",{sourceType:10,dimensionType:20}).then(function(t){e.nationListChooseByRegions=t.data.body.statisticList})},changeState:function(){this.$store.commit("HOTEL_SYNC_MAPPING_DATA_STATE")},refreshData:function(){var t=this;this.btnType=this.getDataType,this.listShow=!0,"supplier"==this.getDataType?(this.chooseTabBySuppliers="hotel",this.chooseCity(this.currentCityIdBySuppliers,this.checkStateBySuppliers,this.curPageSuppliers).then(function(e){return t.listShow=!1,e?t.chooseHotel(t.currentHotelIndexBySuppliers):t.chooseHotel(-1)}).then(function(e){t.$store.commit("HOTEL_SYNC_MAPPING_DATA_STATE")})):(this.chooseTabByRegions="hotel",this.chooseCityCopy(this.currentCityIdByRegions,this.checkStateByRegions,this.curPageRegions).then(function(e){return t.listShow=!1,e?t.chooseHotelCopy(t.currentHotelIndexByRegions):t.chooseHotelCopy(-1)}).then(function(e){t.$store.commit("HOTEL_SYNC_MAPPING_DATA_STATE")}))},listFilter:function(t,e){var i=[];return""==t?i=e:(e.map(function(e,s){e.name.indexOf(t)>-1&&i.push(e)}),i)},doListFilter:function(t,e,i){this[i]=this.listFilter(t,this[e])},choosePageSuppliers:function(){var t=this.curPageSuppliers;this.chooseCity(this.currentCityIdBySuppliers,this.checkStateBySuppliers,t)},choosePageRegions:function(){var t=this.curPageRegions;this.isCheckStateByRegionsShow?this.chooseCityCopy(this.currentCityIdByRegions,this.checkStateByRegions,t):this.searchHotel(this.searchInputCache,t)},btnSupplier:function(){this.btnType="supplier",this.$store.commit("HOTEL_TABLETYPE",20)},btnRegion:function(){this.$store.commit("HOTEL_TABLETYPE",20),this.btnType="region"},doClickSupplierTab:function(t){"suppliers"==t&&(this.reset("suppliers"),this.checkStateBySuppliers=20,this.isCheckStateByRegionsShow=!0,this.curPageSuppliers=1,this.hotelTotalSuppliers=0,this.searchSupplier="",this.searchProvinceBySuppliers="",this.searchCityBySuppliers="",this.searchHotelBySuppliers="",this.$store.commit("HOTEL_TABLETYPE",20),this.chooseTabBySuppliers="suppliers")},doClickRegionTab:function(t){"nation"==t&&(this.reset("regions"),this.checkStateByRegions=20,this.isCheckStateByRegionsShow=!0,this.urPageRegions=1,this.hotelTotalRegions=0,this.searchProvinceByRegions="",this.searchCityeByRegions="",this.searchHotelByRegions="",this.$store.commit("HOTEL_TABLETYPE",20),this.chooseTabByRegions="nation")},chooseSupplier:function(t){var e=this;this.chooseTabBySuppliers="nation",this.currentSupplierId=this.supplierList[t].id,this.$http.post("/mapping/hotelMapping/navTabSearch",{sourceType:20,dimensionType:20,supplierCode:this.supplierList[t].id}).then(function(t){e.nationListChooseBySuppliers=t.data.body.statisticList})},chooseNation:function(t){var e=this;this.chooseTabBySuppliers="province",this.$http.post("/mapping/hotelMapping/navTabSearch",{sourceType:20,dimensionType:30,countryCode:this.nationListChooseBySuppliers[t].id,supplierCode:this.currentSupplierId}).then(function(t){e.provinceListChooseBySuppliersFilter=e.provinceListChooseBySuppliers=t.data.body.statisticList})},chooseProvince:function(t){var e=this;this.chooseTabBySuppliers="city";var i=(this.searchProvinceBySuppliers,this.provinceListChooseBySuppliersFilter[t].id);this.$http.post("/mapping/hotelMapping/navTabSearch",{sourceType:20,dimensionType:40,provinceCode:i,supplierCode:this.currentSupplierId}).then(function(t){e.cityListChooseBySuppliersFilter=e.cityListChooseBySuppliers=t.data.body.statisticList})},chooseCity:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;return this.listShow=!0,this.chooseTabBySuppliers="hotel",this.currentCityIdBySuppliers=t,this.$http.post("/mapping/hotelMapping/navTabSearch",{sourceType:20,dimensionType:50,cityCode:this.currentCityIdBySuppliers,mapStatus:e,pageNum:s,pageSize:o,supplierCode:this.currentSupplierId}).then(function(t){return i.listShow=!1,i.hotelListChooseBySuppliersFilter=i.hotelListChooseBySuppliers=t.data.body.statisticList,i.hotelTotalSuppliers=t.data.body.total,i.hotelListChooseBySuppliers.length>0}).catch(function(t){i.listShow=!1})},chooseStatebySupplier:function(t){"suppliers"!=this.chooseTabBySuppliers&&(this.$store.commit("HOTEL_TABLETYPE",t),this.curPageSuppliers=1,this.chooseCity(this.currentCityIdBySuppliers,t))},chooseHotel:function(t){var e=this,i=void 0;if(i=this.searchHotelBySuppliers?t>this.hotelListChooseBySuppliersFilter.length-1:t>this.hotelListChooseBySuppliers.length-1,-1==t||i)return this.$store.commit("HOTEL_CHECK_LIST",null),this.getDataType="supplier";this.currentHotelIndexBySuppliers=t;var s=this.searchHotelBySuppliers?this.hotelListChooseBySuppliersFilter[t].id:this.hotelListChooseBySuppliers[t].id,o=this.searchHotelBySuppliers?this.hotelListChooseBySuppliersFilter[t].name:this.hotelListChooseBySuppliers[t].name;return 10==this.checkStateBySuppliers?this.$http.post("/mapping/hotelMapping/list",{cityCode:this.currentCityIdBySuppliers,supplierCode:this.currentSupplierId,hotelName:o,mapStatus:this.checkStateBySuppliers,sourceType:20}).then(function(t){e.$store.commit("HOTEL_CHECK_LIST",t.data.body||null)}):this.$http.post("/mapping/hotelMapping/list",{cityCode:this.currentCityIdBySuppliers,supplierCode:this.currentSupplierId,hotelCode:s,mapStatus:this.checkStateBySuppliers,sourceType:20}).then(function(t){e.$store.commit("HOTEL_CHECK_LIST",t.data.body||null),e.getDataType="supplier"})},chooseNationCopy:function(t){var e=this;this.chooseTabByRegions="province",this.$http.post("/mapping/hotelMapping/navTabSearch",{sourceType:10,dimensionType:30,countryCode:this.nationListChooseByRegions[t].id}).then(function(t){e.provinceListChooseByRegionsFilter=e.provinceListChooseByRegions=t.data.body.statisticList})},chooseProvinceCopy:function(t){var e=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.chooseTabByRegions="city";var i=this.searchProvinceByRegions?this.provinceListChooseByRegionsFilter[t].id:this.provinceListChooseByRegions[t].id;this.$http.post("/mapping/hotelMapping/navTabSearch",{sourceType:10,dimensionType:40,provinceCode:i}).then(function(t){e.cityListChooseByRegionsFilter=e.cityListChooseByRegions=t.data.body.statisticList})},chooseCityCopy:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;return this.listShow=!0,this.chooseTabByRegions="hotel",this.currentCityIdByRegions=t,this.$http.post("/mapping/hotelMapping/navTabSearch",{sourceType:10,dimensionType:50,cityCode:this.currentCityIdByRegions,mapStatus:e,pageNum:s,pageSize:o}).then(function(t){return i.listShow=!1,i.hotelListChooseByRegionsFilter=i.hotelListChooseByRegions=t.data.body.statisticList,i.hotelTotalRegions=t.data.body.total,i.hotelListChooseByRegions.length>0}).catch(function(t){i.listShow=!1})},chooseStatebyRegion:function(t){"nation"!=this.chooseTabByRegions&&(this.$store.commit("HOTEL_TABLETYPE",t),this.curPageRegions=1,this.chooseCityCopy(this.currentCityIdByRegions,t))},chooseHotelCopy:function(t){var e,i=this;if(e=this.searchHotelByRegions?t>this.hotelListChooseByRegionsFilter.length-1:t>this.hotelListChooseByRegions.length-1,-1==t||e)return this.$store.commit("HOTEL_CHECK_LIST",null),this.getDataType="region";this.currentHotelIndexByRegions=t;var s=(this.searchHotelByRegions,this.hotelListChooseByRegionsFilter[t].id),o=this.searchHotelByRegions?this.hotelListChooseByRegionsFilter[t].name:this.hotelListChooseByRegions[t].name;return 10==this.checkStateByRegions?this.$http.post("/mapping/hotelMapping/list",{cityId:this.currentCityIdByRegions,hotelName:o,mapStatus:this.checkStateByRegions,sourceType:10}).then(function(t){if("200"!==t.data.head.code){var e=t.data.head.message;return i.$Notice.warning({title:e})}i.$store.commit("HOTEL_CHECK_LIST",t.data.body||null)}):this.$http.post("/mapping/hotelMapping/list",{hotelId:s,mapStatus:this.checkStateByRegions,sourceType:10}).then(function(t){i.$store.commit("HOTEL_CHECK_LIST",t.data.body||null),i.getDataType="region"})},searchHotel:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;if(1==i&&(this.searchInputCache=t,this.curPageRegions=1),""==t)return void this.$Notice.warning({title:"请输入查询内容",desc:"查询内容不能为空"});if(this.isCheckStateByRegionsShow=!1,this.checkStateByRegions=20,"hotelId"===this.searchID){if(!/^[0-9]*$/.test(t))return void this.$Notice.warning({title:"请输入正确的酒店id",desc:"请输入数字id"});this.listShow=!0,this.$http.get("/mapping/hotelMapping/navSearch",{params:{keyword:t,type:1,pageNum:i,pageSize:s}}).then(function(t){e.hotelTotalRegions=t.data.body.total,e.hotelListChooseByRegionsFilter=e.hotelListChooseByRegions=t.data.body.statisticList,200!=t.data.head.code||e.hotelListChooseByRegions.length||e.$Notice.warning({title:"没有找到查询结果",desc:"请重新输入查询条件"})}).then(function(t){e.listShow=!1,e.btnType="region",e.chooseTabByRegions="hotel"})}else{if("酒店"===t)return void this.$Notice.warning({title:"请输入正确的酒店名称",desc:'需要输入中文和英文的酒店名称关键字，注意不能只输入"酒店"'});this.listShow=!0,this.$http.get("/mapping/hotelMapping/navSearch",{params:{keyword:t,type:2,pageNum:i,pageSize:s}}).then(function(t){e.hotelListChooseByRegionsFilter=e.hotelListChooseByRegions=t.data.body.statisticList,e.hotelTotalRegions=t.data.body.total,200!=t.data.head.code||e.hotelListChooseByRegions.length||e.$Notice.warning({title:"没有找到查询结果",desc:"请重新输入查询条件"})}).then(function(t){e.listShow=!1,e.btnType="region",e.chooseTabByRegions="hotel"})}}}}},81:function(t,e){},82:function(t,e,i){i(81);var s=i(7)(i(78),i(85),null,null);s.options.__file="E:\\devCode\\hotel-man\\src\\views\\componets\\navigation\\leftNavHotel.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t}),s.options.functional,t.exports=s.exports},85:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"left-nav-hotel"},[i("Row",{attrs:{gutter:2}},[i("Col",{attrs:{span:"8"}},[i("Select",{staticClass:"search-top-left",model:{value:t.searchID,callback:function(e){t.searchID=e},expression:"searchID"}},t._l(t.searchCondition,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1),t._v(" "),i("Col",{attrs:{span:"12"}},[i("Input",{staticClass:"search-top-right",attrs:{placeholder:"请输入ID或名称"},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}})],1),t._v(" "),i("Col",{staticStyle:{"text-align":"center"},attrs:{span:"4"}},[i("Button",{attrs:{type:"primary",shape:"circle",icon:"ios-search"},on:{click:function(e){t.searchHotel(t.searchInput)}}})],1)],1),t._v(" "),i("Row",[i("ButtonGroup",{staticStyle:{width:"100%"},attrs:{size:"large"}},[i("Button",{staticStyle:{width:"50%"},attrs:{type:t.btnTypesupplier},on:{click:t.btnSupplier}},[t._v("按供应商审核")]),t._v(" "),i("Button",{staticStyle:{width:"50%"},attrs:{type:t.btnTypeRegion},on:{click:t.btnRegion}},[t._v("按区域审核")])],1)],1),t._v(" "),i("Row",{staticStyle:{height:"88%"}},[t.listShow?i("Spin",{attrs:{size:"large",fix:""}}):t._e(),t._v(" "),i("Tabs",{directives:[{name:"show",rawName:"v-show",value:"supplier"==t.btnType,expression:"btnType=='supplier'"}],staticStyle:{height:"100%"},attrs:{type:"card",animated:!0},on:{"on-click":t.doClickSupplierTab},model:{value:t.chooseTabBySuppliers,callback:function(e){t.chooseTabBySuppliers=e},expression:"chooseTabBySuppliers"}},[i("TabPane",{attrs:{label:"供应商",name:"suppliers",disabled:t.supplierTabDisable[0]}},[i("Menu",{attrs:{theme:"light",width:"auto"},on:{"on-select":t.chooseSupplier}},t._l(t.supplierList,function(e,s){return i("MenuItem",{key:s,attrs:{name:s}},[i("span",[t._v(t._s(e.name))]),t._v(" "),i("span",[t._v(t._s(e.matchedCount+"/"+e.matchedUncheckCount+"/"+e.unmatchedCount))])])})),t._v(" "),i("Row",{attrs:{"class-name":"bottom-total"}},[i("span",[t._v("共计"+t._s(t.supplierList?t.supplierList.length:0)+"条")])])],1),t._v(" "),i("TabPane",{attrs:{label:"国家",name:"nation",disabled:t.supplierTabDisable[1]}},[i("Menu",{attrs:{theme:"light",width:"auto"},on:{"on-select":t.chooseNation}},t._l(t.nationListChooseBySuppliers,function(e,s){return i("MenuItem",{key:s,attrs:{name:s}},[i("span",[t._v(t._s(e.name))]),t._v(" "),i("span",[t._v(t._s(e.matchedCount+"/"+e.matchedUncheckCount+"/"+e.unmatchedCount))])])})),t._v(" "),i("Row",{attrs:{"class-name":"bottom-total"}},[i("span",[t._v("共计"+t._s(t.nationListChooseBySuppliers?t.nationListChooseBySuppliers.length:0)+"条")])])],1),t._v(" "),i("TabPane",{staticStyle:{height:"94%"},attrs:{label:"省份",name:"province",disabled:t.supplierTabDisable[2]}},[t.provinceListChooseBySuppliers&&t.provinceListChooseBySuppliers.length>20?i("Row",[i("Input",{attrs:{placeholder:"输入关键词查询"},on:{"on-change":function(e){t.doListFilter(t.searchProvinceBySuppliers,"provinceListChooseBySuppliers","provinceListChooseBySuppliersFilter")}},model:{value:t.searchProvinceBySuppliers,callback:function(e){t.searchProvinceBySuppliers=e},expression:"searchProvinceBySuppliers"}})],1):t._e(),t._v(" "),i("Row",{attrs:{"class-name":"menu-box-large"}},[i("Menu",{attrs:{theme:"light",width:"auto"},on:{"on-select":t.chooseProvince}},t._l(t.provinceListChooseBySuppliersFilter,function(e,s){return i("MenuItem",{key:s,attrs:{name:s}},[i("span",[t._v(t._s(e.name))]),t._v(" "),i("span",[t._v(t._s(e.matchedCount+"/"+e.matchedUncheckCount+"/"+e.unmatchedCount))])])}))],1),t._v(" "),i("Row",{attrs:{"class-name":"bottom-total"}},[i("span",[t._v("共计"+t._s(t.provinceListChooseBySuppliersFilter?t.provinceListChooseBySuppliersFilter.length:0)+"条")])])],1),t._v(" "),i("TabPane",{staticStyle:{height:"94%"},attrs:{label:"城市",name:"city",disabled:t.supplierTabDisable[3]}},[t.cityListChooseBySuppliers&&t.cityListChooseBySuppliers.length>20?i("Row",[i("Input",{attrs:{placeholder:"输入关键词查询"},on:{"on-change":function(e){t.doListFilter(t.searchCityBySuppliers,"cityListChooseBySuppliers","cityListChooseBySuppliersFilter")}},model:{value:t.searchCityBySuppliers,callback:function(e){t.searchCityBySuppliers=e},expression:"searchCityBySuppliers"}})],1):t._e(),t._v(" "),i("Row",{attrs:{"class-name":"menu-box-large"}},[i("Menu",{attrs:{theme:"light",width:"auto"},on:{"on-select":t.chooseCity}},t._l(t.cityListChooseBySuppliersFilter,function(e,s){return i("MenuItem",{key:s,attrs:{name:e.id}},[i("span",[t._v(t._s(e.name))]),t._v(" "),i("span",[t._v(t._s(e.matchedCount+"/"+e.matchedUncheckCount+"/"+e.unmatchedCount))])])}))],1),t._v(" "),i("Row",{attrs:{"class-name":"bottom-total"}},[i("span",[t._v("共计"+t._s(t.cityListChooseBySuppliersFilter?t.cityListChooseBySuppliersFilter.length:0)+"条")])])],1),t._v(" "),i("TabPane",{staticStyle:{height:"94%"},attrs:{label:"酒店",name:"hotel",disabled:t.supplierTabDisable[4]}},[i("Row",{staticClass:"check-select"},[i("Select",{on:{"on-change":t.chooseStatebySupplier},model:{value:t.checkStateBySuppliers,callback:function(e){t.checkStateBySuppliers=e},expression:"checkStateBySuppliers"}},t._l(t.hotelCondition,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1),t._v(" "),t.hotelListChooseBySuppliers&&t.hotelListChooseBySuppliers.length>20?i("Row",[i("Input",{attrs:{placeholder:"输入关键词查询"},on:{"on-change":function(e){t.doListFilter(t.searchHotelBySuppliers,"hotelListChooseBySuppliers","hotelListChooseBySuppliersFilter")}},model:{value:t.searchHotelBySuppliers,callback:function(e){t.searchHotelBySuppliers=e},expression:"searchHotelBySuppliers"}})],1):t._e(),t._v(" "),i("Row",{attrs:{"class-name":"menu-box"}},[t.hotelListChooseBySuppliersFilter.length>0?i("Menu",{attrs:{theme:"light",width:"auto"},on:{"on-select":t.chooseHotel}},t._l(t.hotelListChooseBySuppliersFilter,function(e,s){return i("MenuItem",{key:s,attrs:{name:s}},[i("span",[t._v(t._s(e.name))])])})):i("Row",{staticStyle:{"font-size":"18px","text-align":"center"}},[t._v("\n            暂无数据\n          ")])],1),t._v(" "),i("Row",{attrs:{type:"flex",justify:"center"}},[i("Page",{attrs:{current:t.curPageSuppliers,total:t.hotelTotalSuppliers,"page-size":t.hotelPageSizeSuppliers,size:"small","show-total":""},on:{"update:current":function(e){t.curPageSuppliers=e},"on-change":t.choosePageSuppliers}})],1)],1)],1),t._v(" "),i("Tabs",{directives:[{name:"show",rawName:"v-show",value:"region"==t.btnType,expression:"btnType=='region'"}],staticStyle:{height:"100%"},attrs:{type:"card",animated:!0},on:{"on-click":t.doClickRegionTab},model:{value:t.chooseTabByRegions,callback:function(e){t.chooseTabByRegions=e},expression:"chooseTabByRegions"}},[i("TabPane",{attrs:{label:"国家",name:"nation",disabled:t.regionTabDisable[0]}},[i("Menu",{attrs:{theme:"light",width:"auto"},on:{"on-select":t.chooseNationCopy}},t._l(t.nationListChooseByRegions,function(e,s){return i("MenuItem",{key:s,attrs:{name:s}},[i("span",[t._v(t._s(e.name))]),t._v(" "),i("span",[t._v(t._s(e.matchedCount+"/"+e.matchedUncheckCount+"/"+e.unmatchedCount))])])})),t._v(" "),i("Row",{attrs:{"class-name":"bottom-total"}},[i("span",[t._v("共计"+t._s(t.nationListChooseByRegions?t.nationListChooseByRegions.length:0)+"条")])])],1),t._v(" "),i("TabPane",{staticStyle:{height:"94%"},attrs:{label:"省份",name:"province",disabled:t.regionTabDisable[1]}},[t.provinceListChooseByRegions.length>20?i("Row",[i("Input",{attrs:{placeholder:"输入关键词查询"},on:{"on-change":function(e){t.doListFilter(t.searchProvinceByRegions,"provinceListChooseByRegions","provinceListChooseByRegionsFilter")}},model:{value:t.searchProvinceByRegions,callback:function(e){t.searchProvinceByRegions=e},expression:"searchProvinceByRegions"}})],1):t._e(),t._v(" "),i("Row",{attrs:{"class-name":"menu-box-large"}},[i("Menu",{attrs:{theme:"light",width:"auto"},on:{"on-select":t.chooseProvinceCopy}},t._l(t.provinceListChooseByRegionsFilter,function(e,s){return i("MenuItem",{key:s,attrs:{name:s}},[i("span",[t._v(t._s(e.name))]),t._v(" "),i("span",[t._v(t._s(e.matchedCount+"/"+e.matchedUncheckCount+"/"+e.unmatchedCount))])])}))],1),t._v(" "),i("Row",{attrs:{"class-name":"bottom-total"}},[i("span",[t._v("共计"+t._s(t.provinceListChooseByRegionsFilter?t.provinceListChooseByRegionsFilter.length:0)+"条")])])],1),t._v(" "),i("TabPane",{staticStyle:{height:"94%"},attrs:{label:"城市",name:"city",disabled:t.regionTabDisable[2]}},[t.cityListChooseByRegions&&t.cityListChooseByRegions.length>20?i("Row",[i("Input",{attrs:{placeholder:"输入关键词查询"},on:{"on-change":function(e){t.doListFilter(t.searchCityByRegions,"cityListChooseByRegions","cityListChooseByRegionsFilter")}},model:{value:t.searchCityByRegions,callback:function(e){t.searchCityByRegions=e},expression:"searchCityByRegions"}})],1):t._e(),t._v(" "),i("Row",{attrs:{"class-name":"menu-box-large"}},[i("Menu",{attrs:{theme:"light",width:"auto"},on:{"on-select":t.chooseCityCopy}},t._l(t.cityListChooseByRegionsFilter,function(e,s){return i("MenuItem",{key:s,attrs:{name:e.id}},[i("span",[t._v(t._s(e.name||e.hotelName))]),t._v(" "),i("span",[t._v(t._s(e.matchedCount+"/"+e.matchedUncheckCount+"/"+e.unmatchedCount))])])}))],1),t._v(" "),i("Row",{attrs:{"class-name":"bottom-total"}},[i("span",[t._v("共计"+t._s(t.cityListChooseByRegionsFilter?t.cityListChooseByRegionsFilter.length:0)+"条")])])],1),t._v(" "),i("TabPane",{staticStyle:{height:"94%"},attrs:{label:"酒店",name:"hotel",disabled:t.regionTabDisable[3]}},[i("Row",{staticClass:"check-select"},[i("Select",{directives:[{name:"show",rawName:"v-show",value:t.isCheckStateByRegionsShow,expression:"isCheckStateByRegionsShow"}],on:{"on-change":t.chooseStatebyRegion},model:{value:t.checkStateByRegions,callback:function(e){t.checkStateByRegions=e},expression:"checkStateByRegions"}},t._l(t.hotelCondition,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1),t._v(" "),t.hotelListChooseByRegions&&t.hotelListChooseByRegions.length>20?i("Row",[i("Input",{attrs:{placeholder:"输入关键词查询"},on:{"on-change":function(e){t.doListFilter(t.searchHotelByRegions,"hotelListChooseByRegions","hotelListChooseByRegionsFilter")}},model:{value:t.searchHotelByRegions,callback:function(e){t.searchHotelByRegions=e},expression:"searchHotelByRegions"}})],1):t._e(),t._v(" "),i("Row",{attrs:{"class-name":"menu-box"}},[t.hotelListChooseByRegionsFilter.length>0?i("Menu",{attrs:{theme:"light",width:"auto"},on:{"on-select":t.chooseHotelCopy}},t._l(t.hotelListChooseByRegionsFilter,function(e,s){return i("MenuItem",{key:s,attrs:{name:s}},[i("span",[t._v(t._s(e.name||e.hotelName))]),t._v(" "),10==t.checkStateByRegions?i("span",[t._v(t._s(""+(e.unmatchedCount||"0")))]):i("span",[t._v(t._s(""+(e.matchedCount+"/"||"0")+(e.matchedUncheckCount||"0")))])])})):i("Row",{staticStyle:{"font-size":"18px","text-align":"center"}},[t._v("\n            暂无数据\n          ")])],1),t._v(" "),i("Row",{attrs:{type:"flex",justify:"center"}},[i("Page",{attrs:{current:t.curPageRegions,total:t.hotelTotalRegions,"page-size":t.hotelPageSizeRegions,size:"small","show-total":""},on:{"update:current":function(e){t.curPageRegions=e},"on-change":t.choosePageRegions}})],1)],1)],1)],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},98:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{similar:"",hotelValue:"",classShow:!1,cityHeaderData:[{title:"酒店名称",key:"hotelName"},{title:"酒店地址",key:"address"},{title:"酒店电话",key:"tel"},{title:"经纬度距离",key:"distance"},{title:"酒店链接",key:"link"},{title:"城市",key:"cityName"},{title:"供应商",key:"supplierName"},{title:"供应商酒店ID",key:"hotelId"},{title:"聚合状态",key:"mapStatus"},{title:"操作人",key:"lastOperator"},{title:"更新时间",key:"lastModifyTime"},{title:"日志",key:"log"}],hotelApprovalList:[],similarHeaderData:[{title:"酒店ID",key:"id"},{title:"酒店名称",key:"hotelName"},{title:"酒店地址",key:"address"},{title:"酒店电话",key:"tel"},{title:"酒店链接",key:"link"},{title:"城市",key:"cityName"},{title:"查看酒店Tree",key:"tree"}],similarCityData:[],checkTitle:[{title:"原值",key:"originalValue"},{title:"新值",key:"modifedValue"},{title:"操作时间",key:"lastModifyTime"},{title:"操作人",key:"lastOperator"}],checkData:[],treeTitle:[{title:"酒店名称",key:"hotelName"},{title:"酒店地址",key:"address"},{title:"酒店电话",key:"tel"},{title:"经纬度距离",key:"distance"},{title:"酒店链接",key:"link"},{title:"城市",key:"cityName"},{title:"供应商",key:"supplierName"},{title:"供应商酒店ID",key:"hotelId"},{title:"审核时间",key:"lastModifyTime"},{title:"聚合状态",key:"mapStatus"}],treeJDHotelApproval:[],treeData:[],checkAll:!1,submitData:{checkBoxData:[],radioData:[]},submitTreeData:[],modelShow:!1,checkShow:!1,treeShow:!1,message:"",divWidth1:"",divWidth2:"",divWidth3:"",hotelTableType:20,buttonType:0,spinShow:!1,arrListLen:0,divH:null,tableScrollH:null,pageNum:1,pages:null,similarTotalNum:0,similarCityId:null,similarSupplierCode:null,topDivH:null,hotelLoading:!1}},created:function(){var t=this;this.$store.subscribe(function(e,i){"HOTEL_CHECK_LIST"===e.type&&t.getHotelApprovalList()})},mounted:function(){this.divWidth1=this.$refs.w1.offsetWidth,this.divWidth2=this.$refs.w2.offsetWidth,this.divWidth3=this.$refs.w3.offsetWidth,this.topDivH=this.$refs.topDivH,this.divH=this.$refs.divH,this.divH.addEventListener("scroll",this.addMore)},computed:{hotelCheckList:function(){return this.$store.getters.hotelCheckList},JDHotelApproval:function(){return this.$store.getters.hotelCheckList.jdHotelApproval},is20Check:function(){for(var t=0;t<this.hotelApprovalList.length;t++){var e=this.hotelApprovalList[t];if(20==e.mapStatus&&e.checked)return!0}return!1},isNot20Check:function(){for(var t=0;t<this.hotelApprovalList.length;t++){var e=this.hotelApprovalList[t];if(20!=e.mapStatus&&e.checked)return!0}return!1},hotelTotalNum:function(){return this.hotelApprovalList.length},hotelSyncMappingDataState:function(){return this.$store.getters.hotelSyncMappingDataState},isShrinkStatus:function(){return this.$store.getters.isShrinkStatus}},watch:{hotelApprovalList:{handler:function(){if(0!=this.arrListLen){var t=!0;if(20==this.hotelTableType||30==this.hotelTableType){for(var e=0;e<this.hotelApprovalList.length;e++){var i=this.hotelApprovalList[e];if(20===i.mapStatus&&!i.checked){t=!1;break}}this.checkAll=t}}},deep:!0},isShrinkStatus:function(t,e){t||(this.divWidth1=1118,this.divWidth2=860)}},methods:{addMore:function(){var t=this,e=this.divH.offsetHeight,i=this.divH.scrollTop;if(this.$refs.tableH&&(this.tableScrollH=this.$refs.tableH.scrollHeight,this.tableScrollH-e-i<=1)){if(++this.pageNum>this.pages)return;this.$http.get("/resource/hotel/jdHotelList?hotelName="+this.hotelValue+"&cityId="+this.similarCityId+"&supplierCode="+this.similarSupplierCode+"&pageNum="+this.pageNum+"&pageSize=20").then(function(e){200==e.data.head.code&&(t.similarCityData=t.similarCityData.concat(e.data.body.hotelList))}).catch(function(t){})}},getHotelApprovalList:function(){var t=this;if(null!=this.hotelCheckList&&this.$store.getters.hotelCheckList.hotelApprovalList){this.hotelApprovalList=this.$store.getters.hotelCheckList.hotelApprovalList;for(var e=[],i=0;i<this.hotelApprovalList.length;i++){var s=this.hotelApprovalList[i];20==s.mapStatus&&e.push(s)}this.arrListLen=e.length,this.hotelTableType=this.$store.getters.hotelTableType,this.similarCityData=[],this.submitData.radioData=[],this.similar="",this.hotelValue="",this.similarCityId=this.hotelApprovalList[0].cityId,this.similarSupplierCode=this.hotelApprovalList[0].supplierCode,this.topDivH.scrollTop=0,this.similarTotalNum=0}this.hotelApprovalList.forEach(function(e,i){t.$set(e,"checked",!1)}),this.$refs.w1&&(this.divWidth1=this.$refs.w1.offsetWidth)},toggleCheckAll:function(){for(var t=0;t<this.hotelApprovalList.length;t++){var e=this.hotelApprovalList[t];20!=this.hotelTableType&&30!=this.hotelTableType||20===e.mapStatus&&(e.checked=this.checkAll)}this.pushCheckBoxData()},getInputValue:function(t){this.hotelValue=t.hotelName,this.toSearch()},getAddressValue:function(t){this.hotelValue=t.address,this.toSearch()},getSimilar:function(){if(""==this.hotelValue)return void this.instance("warning");this.toSearch()},toSearch:function(){var t=this;this.similar="",this.submitData.radioData=[],this.pageNum=1,this.divH.scrollTop=0,this.divWidth2=this.$refs.w2.offsetWidth,this.spinShow=!0,this.$http.get("/resource/hotel/jdHotelList?hotelName="+this.hotelValue+"&cityId="+this.similarCityId+"&supplierCode="+this.similarSupplierCode+"&pageNum=1&pageSize=20").then(function(e){t.spinShow=!1,200==e.data.head.code&&(t.similarTotalNum=e.data.body.total,t.pages=e.data.body.pages,t.similarCityData=e.data.body.hotelList)}).catch(function(t){})},highlight:function(t,e){var i=t.indexOf(e),s=t.substring(0,i),o=t.substring(i+e.length);return-1==i||o===t?t:s+'<span style="color: #2d8cf0;">'+e+"</span>"+this.highlight(o,e)},getForData:function(t){for(var e=0;e<this.hotelApprovalList.length;e++)this.hotelApprovalList[e].mapStatus==t&&this.hotelApprovalList[e].checked&&this.submitData.checkBoxData.push(this.hotelApprovalList[e].hotelMapId)},toSubmit1:function(){this.buttonType=1,this.submitData.checkBoxData=[];var t=this.submitData.radioData[0];10!=this.hotelTableType&&void 0==t&&this.submitData.radioData.push(this.JDHotelApproval.hotelId),20!=this.hotelTableType&&30!=this.hotelTableType||(this.getForData(20),0==this.submitData.checkBoxData.length?this.instance("info","已聚待审"):(this.modelShow=!0,this.message="请确认是否将已选择酒店提交？")),10==this.hotelTableType&&(this.getForData(10),0!=this.submitData.checkBoxData.length&&0!=this.submitData.radioData.length?(this.modelShow=!0,this.message="请确认是否将已选择酒店提交？"):this.instance("info","未聚待审"))},toSubmit2:function(){this.buttonType=2,this.submitData.checkBoxData=[],20!=this.hotelTableType&&30!=this.hotelTableType||(this.getForData(30),0==this.submitData.checkBoxData.length?this.instance("info","已聚已审"):(this.modelShow=!0,this.message="请确认是否将已选择酒店设为待审？"))},treeSubmit:function(){this.buttonType=3,this.submitData.checkBoxData=[];for(var t=0;t<this.treeData.length;t++)30==this.treeData[t].mapStatus&&this.treeData[t].checked&&this.submitData.checkBoxData.push(this.treeData[t].hotelMapId);0==this.submitData.checkBoxData.length?this.instance("info","已聚已审"):(this.modelShow=!0,this.message="请确认是否将已选择酒店设为待审？")},radioSelect:function(t){this.submitData.radioData=[],this.submitData.radioData.push(t.hotelId)},ok:function(){var t=this;this.hotelLoading=!0;var e=this.submitData.checkBoxData.join(","),i=this.submitData.radioData[0];1==this.buttonType&&10!=this.hotelTableType&&this.$http.post("/mapping/hotelMapping/approve",{hotelMapIds:e,jdHotelId:i}).then(function(e){t.hotelLoading=!1,t.modelShow=!1,200==e.data.head.code&&(t.$store.commit("HOTEL_SYNC_MAPPING_DATA_STATE",!0),t.hotelValue="")}).catch(function(t){}),1==this.buttonType&&10==this.hotelTableType&&this.$http.post("/mapping/hotelMapping/approve",{hotelMapIds:e,jdHotelId:i}).then(function(e){t.hotelLoading=!1,t.modelShow=!1,200==e.data.head.code&&(t.$store.commit("HOTEL_SYNC_MAPPING_DATA_STATE",!0),t.hotelValue="")}).catch(function(t){}),2==this.buttonType&&this.$http.post("/mapping/hotelMapping/matchedUncheck",{hotelMapIds:e}).then(function(e){t.hotelLoading=!1,t.modelShow=!1,200==e.data.head.code&&(t.$store.commit("HOTEL_SYNC_MAPPING_DATA_STATE",!0),t.hotelValue="")}).catch(function(t){}),3==this.buttonType&&this.$http.post("/mapping/hotelMapping/matchedUncheck",{hotelMapIds:e}).then(function(e){t.hotelLoading=!1,t.treeShow=!1,200==e.data.head.code&&(t.$store.commit("HOTEL_SYNC_MAPPING_DATA_STATE",!0),t.hotelValue="",t.similarTotalNum=0)}).catch(function(t){})},cancel:function(){},instance:function(t,e){var i='<p style="font-size: 16px;">请必须选择一个京东酒店和至少一个(含)供应商酒店"'+e+'"的数据</p>';switch(t){case"info":this.$Modal.info({content:i});break;case"warning":this.$Modal.warning({content:'<p style="font-size: 16px;">请输入酒店名称</p>'})}},getStatusValue:function(t){switch(t){case 10:return"未聚待审";case 20:return"已聚待审";case 30:return"已聚已审"}},getCheckData:function(t){var e=this;this.checkData=[],this.spinShow=!0,this.checkShow=!0,this.$http.get("/mapping/log/getLogListByDataId?dataId="+t+"&dataType=20").then(function(t){if(e.spinShow=!1,200==t.data.head.code)for(var i=t.data.body,s=0;s<i.length;s++)for(var o=0;o<i[s].logDetailList.length;o++)e.checkData.push(i[s].logDetailList[o])}).catch(function(t){})},getTreeData:function(t){var e=this;this.treeShow=!0,this.spinShow=!0,this.$http.get("/mapping/hotelMapping/getHotelTreeByJDHotelId?jdHotelId="+t).then(function(t){e.spinShow=!1,200==t.data.head.code&&(e.treeJDHotelApproval=[],e.treeJDHotelApproval.push(t.data.body.jdHotelApproval),e.treeData=t.data.body.hotelApprovalList)}).catch(function(t){})},clearRadioValue:function(){this.pushCheckBoxData()},pushCheckBoxData:function(){this.submitData.checkBoxData=[];for(var t=0;t<this.hotelApprovalList.length;t++){var e=this.hotelApprovalList[t];e.checked&&this.submitData.checkBoxData.push(e)}0==this.submitData.checkBoxData.length&&(this.similar="",this.submitData.radioData=[])}}}}});